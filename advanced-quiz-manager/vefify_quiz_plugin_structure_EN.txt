
‚úÖ Full Plugin Flow: Vefify Quiz Campaign (ENGLISH)

üéØ OBJECTIVE:
Conduct quiz campaigns to collect customer data, auto-score answers, and offer rewards (top-up or voucher).

---

üî∂ FUNCTIONALITY FLOW:

üîπ Step 1: User Information Form

| Field             | Type             | Notes                                                  |
|------------------|------------------|---------------------------------------------------------|
| Full Name        | Text             | Required                                                |
| Phone Number     | Text (validated) | Required ‚Äì Check if already joined this campaign        |
| Province/City    | Dropdown         | Uses `provine-vietnam.json` API                         |
| Pharmacy Code    | Text             | Optional, or required depending on campaign             |

üõ°Ô∏è Phone is checked via AJAX:  
> If phone has joined ‚Üí show popup: ‚ÄúYou have already participated in this campaign.‚Äù

---

üîπ Step 2: Take the Quiz

- Questions loaded via AJAX based on campaign ID
- Each question includes:
  - Question text
  - List of answer options (checkbox)
- Supports one or multiple correct answers
- User can navigate back and forth
- Can only submit once

---

üîπ Step 3: Submit and View Result

- AJAX sends all answers + user info to server
- Backend scores based on correct options
- Saves to `vefify_quiz_users` table

üéâ Show result popup:
- User‚Äôs score
- Congratulatory message
- Reward info (if applicable)

---

üß∞ DATABASE STRUCTURE

**Table: vefify_quiz_users**

| Column      | Type     | Notes                          |
|-------------|----------|--------------------------------|
| name        | VARCHAR  | Full name                      |
| phone       | VARCHAR  | Phone number                   |
| address     | TEXT     | Province/city                  |
| campaign_id | INT      | Linked campaign                |
| score       | INT      | Total score                    |
| gift_code   | VARCHAR  | Reward code                    |
| created_at  | DATETIME | Timestamp of participation     |

---

üñºÔ∏è WIREFRAME STRUCTURE

[ Join Quiz ]
+----------------------------+
| Full Name:        [_____] |
| Phone:            [_____] |
| Province/City:    [‚ñº Hanoi] ‚Üê dropdown from API then choose provice
| Pharmacy Code:    [_____] |
| [ Continue ‚Üí ]             |
+----------------------------+

‚Üí If already joined: show popup

‚Üí Else:

+-------------------------------------+
|        QUESTION 1 / 5              |
| What is Aspirin used for? HTML input |
| [ ] Pain relief                    |
| [ ] Fever reduction                |
| [ ] Sleep aid                      |
| ‚óÄ Previous       [Next ‚ñ∂]          |
+-------------------------------------+

‚Üí On submission:

+-------------------------------+
| üéâ Congratulations            |
| You scored 5 out of 5         |
| You‚Äôve won: 50k Voucher       |
| [ Finish ]                    |
+-------------------------------+
